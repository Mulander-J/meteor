(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f567170a"],{"01d3":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"meteor-start-wrapper"},[t.day_night?a("div",{staticClass:"layer layer-cloud"},[a("div",{staticClass:"dynamic-cloud the-cloud1"}),a("div",{staticClass:"dynamic-cloud the-cloud2"})]):a("div",{staticClass:"layer layer-star meteor-flex-center"},[a("canvas",{attrs:{id:"starSky"}})]),a("div",{staticClass:"layer layer-main meteor-flex-center"},[a("div",{staticClass:"tower",class:{"tower-eve":!t.day_night}})]),a("div",{staticClass:"layer layer-txt meteor-flex-center"},[a("div",{staticClass:"txt-box"},[a("span",{staticClass:"link-start",on:{click:t.handleLink}},[t._v("start")])])]),a("el-dialog",{attrs:{title:"Start",visible:t.isShow},on:{"update:visible":function(e){t.isShow=e}}},[a("LoginForm",{on:{"on-login":t.handleLogin,"on-signUp":t.handleSignUp}})],1)],1)},i=[],o=(a("b0c0"),a("5530")),s=a("2f62"),r=(a("cb29"),a("4160"),a("159b"),function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=document.querySelector(t);if("undefined"!==typeof a.getContext){var n=a.getContext("2d");s(),window.onresize=s,function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=t}();var i,o=["#000030","#4d4398","#4784bf","#000030","#4d4398","#ffffff"];d(),m()}function s(){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight,e&&(a.width-=10,a.height-=10)}function r(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function l(t){return t[Math.floor(Math.random()*t.length)]}function c(t,e,i,o){var s=this;this.x=t,this.y=e,this.radius=i,this.color=o,this.radians=Math.random()*Math.PI*2,this.velocity=.001,this.distanceFormCenter=r(10,a.width/2+100),this.update=function(){s.radians+=s.velocity,s.x=Math.cos(s.radians)*s.distanceFormCenter+a.width/2,s.y=Math.sin(s.radians)*s.distanceFormCenter+a.height/2,s.draw()},this.draw=function(){n.beginPath(),n.fillStyle=s.color,n.arc(s.x,s.y,s.radius,0,2*Math.PI,!1),n.globalAlpha=.8,n.fill()}}function d(){i=[];for(var t=0;t<1200;t++){var e=Math.random()+.5;i.push(new c(a.width/2,a.height/2,e,l(o)))}}function m(){if(document.querySelector(t)){requestAnimationFrame(m);var e=n.createLinearGradient(0,0,a.width,a.height);e.addColorStop(0,"rgba(19,27,35,.05)"),e.addColorStop(1,"rgba(10,20,67,.05)"),n.fillStyle=e,n.fillRect(0,0,a.width,a.height),i.forEach((function(t){t.update()}))}else console.log("#skyCircle|星空画布Dom已移除")}}),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"meteor-loginForm-wrapper",class:"SIGN_UP"===t.state?"sign-wrapper":""},[a("div",{staticClass:"container-info"},[a("div",{staticClass:"info-item"},[a("div",[a("h1",[t._v("已有账号")]),a("span",{staticClass:"meteor-btn-hover btn-hover-victor-1",on:{click:function(e){return t._switchForm("LOG_IN")}}},[t._v("登录")])])]),a("div",{staticClass:"info-item"},[a("div",[a("h1",[t._v("尚未加入")]),a("span",{staticClass:"meteor-btn-hover btn-hover-victor-2",on:{click:function(e){return t._switchForm("SIGN_UP")}}},[t._v("注册")])])])]),a("div",{staticClass:"container-form"},[a("div",{staticClass:"form-item log-in meteor-flex-center",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t._handleLogin(e)}}},[a("el-form",{attrs:{model:t.logParam,size:"small"}},[a("el-form-item",[a("el-input",{attrs:{clearable:"",placeholder:"用户名(区分大小写)"},model:{value:t.logParam.name,callback:function(e){t.$set(t.logParam,"name",e)},expression:"logParam.name"}})],1),a("el-form-item",[a("el-input",{attrs:{type:"password","show-password":"",placeholder:"密码"},model:{value:t.logParam.password,callback:function(e){t.$set(t.logParam,"password",e)},expression:"logParam.password"}})],1),a("span",{staticClass:"meteor-btn-hover btn-hover-victor-3",on:{click:t._handleLogin}},[t._v("Log In")])],1)],1),a("div",{staticClass:"form-item sign-up meteor-flex-center",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t._handleSignUp(e)}}},[a("el-form",{attrs:{model:t.logParam,size:"small"}},[a("el-form-item",[a("el-input",{attrs:{clearable:"",placeholder:"用户名"},model:{value:t.logParam.name,callback:function(e){t.$set(t.logParam,"name",e)},expression:"logParam.name"}})],1),a("el-form-item",[a("el-input",{attrs:{clearable:"",placeholder:"邮箱"},model:{value:t.logParam.mail,callback:function(e){t.$set(t.logParam,"mail",e)},expression:"logParam.mail"}})],1),a("el-form-item",[a("el-input",{attrs:{type:"password","show-password":"",placeholder:"密码"},model:{value:t.logParam.password,callback:function(e){t.$set(t.logParam,"password",e)},expression:"logParam.password"}})],1),a("span",{staticClass:"meteor-btn-hover btn-hover-victor-4",on:{click:t._handleSignUp}},[t._v("Sign Up")])],1)],1)])])},c=[],d={name:"LoginForm",data:function(){return{state:"LOG_IN",logParam:{name:"",password:"",mail:""}}},methods:{_switchForm:function(t){this.state=t,this.logParam={name:"",password:"",mail:""}},_handleSignUp:function(){this.$emit("on-signUp",this.logParam)},_handleLogin:function(){this.$emit("on-login",this.logParam)}}},m=d,h=(a("48d4"),a("2877")),u=Object(h["a"])(m,l,c,!1,null,"ac8c27ec",null),f=u.exports,g={name:"Start",components:{LoginForm:f},data:function(){return{isShow:!1}},computed:Object(o["a"])({},Object(s["b"])({day_night:"global/day_night"})),watch:{day_night:function(){this.initDayNight()}},mounted:function(){this.initDayNight()},methods:{initDayNight:function(){this.day_night||this.$nextTick((function(){r("#starSky",!0)}))},handleLink:function(){this.$util._checkSession("meteor_user",["_id","name"])?this._goToAdmin():this.isShow=!0},handleLogin:function(t){delete t.mail;var e=this;this.$api.user.login(t).then((function(t){t.data.success?(sessionStorage.setItem("meteor_user",JSON.stringify({_id:t.data.result[0]._id,name:t.data.result[0].name})),e.isShow=!1,e._goToAdmin()):e.$message.error(t.data.msg)})).catch((function(t){e.$message.error(t.message)}))},handleSignUp:function(t){var e=this;this.$api.user.save(t).then((function(t){t.data.success?(sessionStorage.setItem("meteor_user",JSON.stringify({_id:t.data.result[0]._id,name:t.data.result[0].name})),e.isShow=!1,e._goToAdmin()):e.$message.error(t.data.msg)})).catch((function(t){e.$message.error(t.message)}))},_goToAdmin:function(){this.$router.push({name:"Admin"})}}},p=g,v=(a("7922"),Object(h["a"])(p,n,i,!1,null,"041f1010",null));e["default"]=v.exports},"48d4":function(t,e,a){"use strict";var n=a("b8ba"),i=a.n(n);i.a},"4ed3":function(t,e,a){},7922:function(t,e,a){"use strict";var n=a("4ed3"),i=a.n(n);i.a},"81d5":function(t,e,a){"use strict";var n=a("7b0b"),i=a("23cb"),o=a("50c4");t.exports=function(t){var e=n(this),a=o(e.length),s=arguments.length,r=i(s>1?arguments[1]:void 0,a),l=s>2?arguments[2]:void 0,c=void 0===l?a:i(l,a);while(c>r)e[r++]=t;return e}},b8ba:function(t,e,a){},cb29:function(t,e,a){var n=a("23e7"),i=a("81d5"),o=a("44d2");n({target:"Array",proto:!0},{fill:i}),o("fill")}}]);
//# sourceMappingURL=chunk-f567170a.8b4cd36f.js.map